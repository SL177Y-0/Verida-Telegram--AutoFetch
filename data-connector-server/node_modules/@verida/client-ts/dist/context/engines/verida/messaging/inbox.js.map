{"version":3,"file":"inbox.js","sourceRoot":"","sources":["../../../../../src/context/engines/verida/messaging/inbox.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,uCAAgC;AAChC,IAAM,MAAM,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AAClC,iCAAqC;AAIrC,8EAAuD;AACvD,uCAA8D;AAE9D;;;GAGG;AACH;IAA0B,+BAAY;IAUpC,qBAAY,OAAgB,EAAE,OAAgB,EAAE,QAAqB;QAArB,yBAAA,EAAA,aAAqB;QAArE,YACE,iBAAO,SAOR;QANC,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,KAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAE1B,0CAA0C;QAC1C,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;;IAC3B,CAAC;IAEa,gCAAU,GAAxB;;;;;4BACE,qBAAM,IAAI,CAAC,IAAI,EAAE,EAAA;;wBAAjB,SAAiB,CAAC;wBAEJ,qBAAM,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,EAAA;;wBAAxC,KAAK,GAAG,SAAgC;wBAC9C,IAAI,CAAC,KAAK,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC,EAAE;4BAC/B,sBAAO,CAAC,EAAC;yBACV;wBAEK,KAAK,GAAG,IAAI,CAAC;wBACf,KAAK,GAAG,CAAC,CAAC;wBACd,KAAK,CAAC,OAAO,CAAC,UAAC,IAAY;4BACzB,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;4BACxB,KAAK,EAAE,CAAC;wBACV,CAAC,CAAC,CAAC;wBAEH,sBAAO,KAAK,EAAC;;;;KACd;IAEa,iCAAW,GAAzB,UAA0B,SAAc;;;;;4BACtC,qBAAM,IAAI,CAAC,IAAI,EAAE,EAAA;;wBAAjB,SAAiB,CAAC;wBAIL,qBAAM,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,EAAA;;wBAAnC,IAAI,GAAG,SAA4B;wBACnC,cAAc,GAAG,0BAAe,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;wBAC3D,YAAY,GAAG,eAAG,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;;;;wBAK7D,qBAAM,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,SAAS,CAAC,OAAO,EAAE,YAAY,CAAC,EAAA;;wBAArE,GAAG,GAAG,SAA+D,CAAC;;;;wBAEtE,+CAA+C;wBAC/C,qBAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,SAAS,CAAC,EAAA;;wBADxC,+CAA+C;wBAC/C,SAAwC,CAAC;wBACzC,sBAAO;;wBAGL,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;wBAChC,IAAI,GAAG,OAAO,CAAC,OAAO,CAAC;wBAIvB,UAAU,GAAQ;4BACpB,GAAG,EAAE,SAAS,CAAC,GAAG;4BAClB,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO;4BAC1B,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI;4BACpB,MAAM,EAAE,IAAI,CAAC,UAAU;4BACvB,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI;4BACpB,MAAM,EAAE;gCACN,GAAG,EAAE,IAAI,CAAC,GAAG;gCACb,OAAO,EAAE,IAAI,CAAC,OAAO;6BACtB;4BACD,UAAU,EAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE;4BACpC,IAAI,EAAE,KAAK;yBACZ,CAAC;wBAEF,IAAI,SAAS,CAAC,OAAO,EAAE;4BACrB,UAAU,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAA;yBACvC;;;;wBAIC,qBAAM,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,EAAA;;wBAAxC,SAAwC,CAAC;;;;wBAEzC,IAAI,KAAG,CAAC,MAAM,IAAI,GAAG,EAAE;4BACrB,yEAAyE;4BACzE,4EAA4E;4BAC5E,uEAAuE;4BACvE,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC;4BACpC,sBAAO;yBACR;wBAED,OAAO,CAAC,KAAK,CAAC,iCAAiC,CAAC,CAAC;wBACjD,OAAO,CAAC,KAAK,CAAC,KAAG,CAAC,CAAC;;;;wBAInB,wBAAwB;wBACxB,qBAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,SAAS,CAAC,EAAA;;wBADxC,wBAAwB;wBACxB,SAAwC,CAAC;;;;wBAEzC,OAAO,CAAC,KAAK,CAAC,oCAAoC,CAAC,CAAC;wBACpD,OAAO,CAAC,KAAK,CAAC,KAAG,CAAC,CAAC;wBACnB,MAAM,KAAG,CAAC;;wBAGZ,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC;wBACpC,IAAI,CAAC,GAAG,EAAE,CAAC;;;;;KACZ;IAEY,6BAAO,GAApB,UAAqB,MAAc,EAAE,OAAY;;;;4BAC/C,qBAAM,IAAI,CAAC,IAAI,EAAE,EAAA;;wBAAjB,SAAiB,CAAC;wBAClB,sBAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,MAAM,EAAE,OAAO,CAAC,EAAC;;;;KAC9C;IAEY,2BAAK,GAAlB;;;;;4BACE,qBAAM,IAAI,CAAC,IAAI,EAAE,EAAA;;wBAAjB,SAAiB,CAAC;wBACd,KAAK,GAAG,IAAI,CAAC;wBAEA,qBAAM,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,EAAA;;wBAAzC,QAAQ,GAAG,SAA8B;wBAC5B,qBAAM,QAAQ,CAAC,KAAK,EAAE,EAAA;;wBAAnC,UAAU,GAAG,SAAsB;wBACzC,UAAU;6BACP,OAAO,CAAC;4BACP,KAAK,EAAE,KAAK;4BACZ,IAAI,EAAE,IAAI;yBACX,CAAC;6BACD,EAAE,CAAC,QAAQ,EAAE,UAAgB,IAAS;;;;;4CACrC,IAAI,IAAI,CAAC,OAAO,EAAE;gDAChB,yBAAyB;gDACzB,sBAAO;6CACR;4CAED,qBAAM,KAAK,CAAC,UAAU,EAAE,EAAA;;4CAAxB,SAAwB,CAAC;;;;;yBAC1B,CAAC;6BACD,EAAE,CAAC,QAAQ,EAAE,UAAU,GAAQ;4BAC9B,OAAO,CAAC,KAAK,CAAC,mBAAmB,CAAC,CAAC;4BACnC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;wBACrB,CAAC,CAAC;6BACD,EAAE,CAAC,OAAO,EAAE,UAAU,GAAQ;4BAC7B,yDAAyD;4BACzD,kBAAkB;4BAClB,0DAA0D;4BAC1D,UAAU,CAAC;gCACT,OAAO,CAAC,GAAG,CAAC,+CAA+C,CAAC,CAAC;gCAC7D,KAAK,CAAC,IAAI,CAAC,iBAAiB,EAAE,GAAG,CAAC,CAAC;gCACnC,KAAK,CAAC,KAAK,EAAE,CAAC;4BAChB,CAAC,EAAE,IAAI,CAAC,CAAC;wBACX,CAAC,CAAC,CAAC,CAAC,0FAA0F;wBAEhG,IAAI,CAAC,UAAU,EAAE,CAAC;;;;;KACnB;IAEY,yCAAmB,GAAhC;;;;;;wBACM,KAAK,GAAG,IAAI,CAAC;wBACC,qBAAM,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,EAAA;;wBAA3C,SAAS,GAAG,SAA+B;wBAC9B,qBAAM,SAAS,CAAC,KAAK,EAAE,EAAA;;wBAApC,UAAU,GAAG,SAAuB;wBAC1C,UAAU;6BACP,OAAO,CAAC;4BACP,KAAK,EAAE,KAAK;4BACZ,IAAI,EAAE,IAAI;yBACX,CAAC;6BACD,EAAE,CAAC,QAAQ,EAAE,UAAgB,IAAS;;;;;gDACnB,qBAAM,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE;gDAC7C,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG;6CACzB,CAAC,EAAA;;4CAFI,SAAS,GAAG,SAEhB;4CACF,KAAK,CAAC,IAAI,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC;;;;;yBACtC,CAAC;6BACD,EAAE,CAAC,OAAO,EAAE,UAAU,GAAQ;4BAC7B,OAAO,CAAC,GAAG,CAAC,0CAA0C,CAAC,CAAC;4BACxD,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;4BACjB,UAAU,CAAC;gCACT,OAAO,CAAC,GAAG,CAAC,gDAAgD,CAAC,CAAC;gCAC9D,KAAK,CAAC,mBAAmB,EAAE,CAAC;4BAC9B,CAAC,EAAE,IAAI,CAAC,CAAC;wBACX,CAAC,CAAC,CAAC;;;;;KACN;IAED;;;;;OAKG;IACU,0BAAI,GAAjB;;;;;;wBACE,IAAI,IAAI,CAAC,YAAY,EAAE;4BACrB,sBAAO;yBACR;wBAED,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;wBACzB,KAAA,IAAI,CAAA;wBAAe,qBAAM,IAAI,CAAC,OAAO,CAAC,aAAa,CACjD,8DAA8D,EAC9D;gCACE,WAAW,EAAE;oCACX,IAAI,EAAE,qCAA6B,CAAC,MAAM;oCAC1C,KAAK,EAAE,qCAA6B,CAAC,MAAM;iCAC5C;6BACF,CACF,EAAA;;wBARD,GAAK,WAAW,GAAG,SAQlB,CAAC;wBAEF,KAAA,IAAI,CAAA;wBAAgB,qBAAM,IAAI,CAAC,OAAO,CAAC,aAAa,CAClD,+DAA+D,EAC/D;gCACE,WAAW,EAAE;oCACX,IAAI,EAAE,qCAA6B,CAAC,KAAK;oCACzC,KAAK,EAAE,qCAA6B,CAAC,KAAK;iCAC3C;6BACF,CACF,EAAA;;wBARD,GAAK,YAAY,GAAG,SAQnB,CAAC;wBAEF,qBAAM,IAAI,CAAC,mBAAmB,EAAE,EAAA;;wBAAhC,SAAgC,CAAC;wBACjC,qBAAM,IAAI,CAAC,KAAK,EAAE,EAAA;;wBAAlB,SAAkB,CAAC;wBACnB,qBAAM,IAAI,CAAC,UAAU,EAAE,EAAA;;wBAAvB,SAAuB,CAAC;;;;;KACzB;IAEK,uCAAiB,GAAvB;;;;4BACE,qBAAM,IAAI,CAAC,IAAI,EAAE,EAAA;;wBAAjB,SAAiB,CAAC;wBAClB,sBAAO,IAAI,CAAC,YAAY,EAAC;;;;KAC1B;IAED;;OAEG;IACG,yBAAG,GAAT;;;;;;4BACE,qBAAM,IAAI,CAAC,IAAI,EAAE,EAAA;;wBAAjB,SAAiB,CAAC;wBACZ,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;wBAEzB,qBAAM,YAAY,CAAC,OAAO,CACtC;gCACE,IAAI,EAAE,IAAI,EAAE,+BAA+B;6BAC5C,EACD;gCACE,IAAI,EAAE,IAAI,CAAC,QAAQ;gCACnB,IAAI,EAAE,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,EAAE,sBAAsB;6BACnD,CACF,EAAA;;wBARK,KAAK,GAAG,SAQb;wBAED,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,EAAE;4BACzB,KAAK,CAAC,OAAO,CAAC,UAAO,IAAY;;;gDAC/B,qBAAM,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,EAAA;;4CAA/B,SAA+B,CAAC;;;;iCACjC,CAAC,CAAC;yBACJ;;;;;KACF;IACH,kBAAC;AAAD,CAAC,AAjPD,CAA0B,qBAAY,GAiPrC;AAED,kBAAe,WAAW,CAAC"}