{"version":3,"file":"db-encrypted.js","sourceRoot":"","sources":["../../../../../src/context/engines/verida/database/db-encrypted.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,sDAA+B;AAE/B,8EAAuD;AAEvD,uDAA2C;AAC3C,kDAAsC;AAEtC,qDAAqD;AAC7C,IAAS,YAAY,GAAK,eAAsB,QAA3B,CAA4B;AACjD,IAAS,OAAO,GAAK,UAAiB,QAAtB,CAAuB;AAE/C,2DAA+C;AACvC,IAAS,WAAW,GAAK,cAAqB,QAA1B,CAA2B;AAEvD,wDAA4C;AAG5C,YAAY,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;AACjC,OAAO,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;AAC5B,YAAY,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;AAEjC;;;GAGG;AACH;IAAgC,qCAAM;IAYpC;;OAEG;IACH,2BAAY,MAA4B,EAAE,MAA2B;QAArE,YACE,kBAAM,MAAM,EAAE,MAAM,CAAC,SAMtB;QAdO,cAAQ,GAAY,KAAK,CAAA;QAEzB,gBAAU,GAAG,IAAI,CAAC;QAQxB,KAAI,CAAC,aAAa,GAAG,MAAM,CAAC,aAAc,CAAC;QAE3C,sBAAsB;QACtB,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC;;IACpB,CAAC;IAEY,gCAAI,GAAjB;;;;;;wBACE,IAAI,IAAI,CAAC,EAAE,EAAE;4BACX,sBAAO;yBACR;wBAED,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;4BACvB,WAAsC,EAAnB,KAAA,IAAI,CAAC,MAAM,CAAC,OAAO,EAAnB,cAAmB,EAAnB,IAAmB,EAAE;gCAA/B,MAAM;gCACb,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAA;6BAC5B;yBACF;wBAEK,GAAG,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,OAAO,EAAE,CAAA;wBAClC,qBAAM,iBAAM,IAAI,WAAE,EAAA;;wBAAlB,SAAkB,CAAC;wBACnB,+EAA+E;wBAE/E,IAAI,CAAC,iBAAiB,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;wBACxD,IAAI,CAAC,QAAQ,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;wBAG9C,QAAQ,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,QAAQ,CACxE,KAAK,CACN,CAAC,CAAC;wBAGG,UAAU,GAAG,0BAAe,CAAC,IAAI,CAAC,UAAG,QAAQ,cAAI,IAAI,CAAC,YAAY,CAAE,CAAC,CAAC;wBACtE,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;wBAE5C,qBAAM,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;gCACzB,QAAQ,UAAA;gCACR,IAAI,MAAA;gCACJ,UAAU,EAAE,IAAI;gCAChB,yEAAyE;6BAC1E,CAAC,EAAA;;wBALF,SAKE,CAAC;wBAEH,qBAAM,IAAI,CAAC,QAAQ,EAAE,EAAA;;wBAArB,SAAqB,CAAA;;;;;KACtB;IAEe,oCAAQ,GAAxB;;;;;;wBACQ,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;wBAGjC,QAAQ,GAAG,IAAI,CAAC;wBAEtB,oFAAoF;wBACpF,kEAAkE;wBAClE,qBAAM,IAAI,CAAC,iBAAiB,CAAC,SAAS;iCACnC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE;gCACb,wBAAwB;gCACxB,MAAM,EAAE,UAAU,GAAQ;oCACxB,OAAO,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;gCAC1C,CAAC;6BACF,CAAC;iCACD,EAAE,CAAC,OAAO,EAAE,UAAU,GAAQ;gCAC7B,OAAO,CAAC,KAAK,CACX,iFAA0E,YAAY,CAAE,CACzF,CAAC;gCACF,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;4BACrB,CAAC,CAAC;iCACD,EAAE,CAAC,QAAQ,EAAE,UAAU,GAAQ;gCAC9B,OAAO,CAAC,KAAK,CACX,4EAAqE,YAAY,MAAG,CACrF,CAAC;gCACF,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;4BACrB,CAAC,CAAC;iCACD,EAAE,CAAC,UAAU,EAAE,UAAU,IAAS;gCACjC,0EAA0E;gCAC1E,gDAAgD;gCAChD,QAAQ,CAAC,IAAI,EAAE,CAAC;gCAChB,0EAA0E;4BAC5E,CAAC,CAAC,EAAA;;wBA1BJ,oFAAoF;wBACpF,kEAAkE;wBAClE,SAwBI,CAAC;6BAQD,IAAI,CAAC,MAAM,CAAC,mBAAmB,EAA/B,wBAA+B;;;;wBAE/B,qBAAM,IAAI,CAAC,OAAO,EAAE,EAAA;;wBAApB,SAAoB,CAAC;;;;6BAMnB,CAAA,KAAG,CAAC,OAAO,IAAI,kDAAkD;4BACjE,KAAG,CAAC,OAAO,IAAI,oBAAoB,CAAA,EADnC,wBACmC;wBAEnC,6EAA6E;wBAC7E,qBAAM,IAAI,CAAC,KAAK,EAAE,EAAA;;wBADlB,6EAA6E;wBAC7E,SAAkB,CAAA;wBAClB,MAAM,IAAI,KAAK,CAAC,iCAAiC,CAAC,CAAC;;oBAGrD,yBAAyB;oBACzB,MAAM,KAAG,CAAC;;;;;KAKf;IAED;;;;;;;OAOG;IACI,gCAAI,GAAX;QACE,IAAI,IAAI,CAAC,KAAK,EAAE;YACd,2BAA2B;YAC3B,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;YACpB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAA;SACvB;QAED,IAAM,QAAQ,GAAG,IAAI,CAAC;QACtB,IAAM,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;QAEvC,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,EAAE,EAAE;YACzD,IAAI,EAAE,IAAI;YACV,KAAK,EAAE,KAAK;YACZ,OAAO,EAAE,IAAI;YACb,wBAAwB;YACxB,MAAM,EAAE,UAAU,GAAQ;gBACxB,OAAO,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;YAC1C,CAAC;SACF,CAAC;aACC,EAAE,CAAC,QAAQ,EAAE,UAAU,IAAS;YAC/B,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAA;YAC/B,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAA;QAC3B,CAAC,CAAC;aACD,EAAE,CAAC,QAAQ,EAAE,UAAU,GAAQ;YAC9B,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAA;YAC/B,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAA;QAC1B,CAAC,CAAC;aACD,EAAE,CAAC,QAAQ,EAAE;YACZ,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAA;YAC/B,QAAQ,CAAC,SAAS,GAAG,SAAS,CAAA;QAChC,CAAC,CAAC;aACD,EAAE,CAAC,UAAU,EAAE,UAAU,IAAS;YACjC,QAAQ,CAAC,WAAW,GAAG,UAAU,CAAA;YACjC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAA;QAC3B,CAAC,CAAC;aACD,EAAE,CAAC,OAAO,EAAE,UAAgB,GAAQ;;;;;4BACnC,QAAQ,CAAC,WAAW,GAAG,OAAO,CAAA;4BAC9B,QAAQ,CAAC,UAAU,GAAG,GAAG,CAAC;4BAE1B,qBAAM,QAAQ,CAAC,eAAe,EAAE,EAAA;;4BAAhC,SAAgC,CAAA;;;;;SACjC,CAAC;aACD,EAAE,CAAC,QAAQ,EAAE,UAAU,GAAQ;YAC9B,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAA;YAC/B,QAAQ,CAAC,UAAU,GAAG,GAAG,CAAC;YAE1B,QAAQ,CAAC,eAAe,EAAE,CAAA;QAC5B,CAAC,CAAC,CAAC;QAEL,OAAO,IAAI,CAAC,KAAK,CAAC;IACpB,CAAC;IAED;;;;;;;;;;;;;;OAcG;IACI,kCAAM,GAAb,UAAc,KAAa,EAAE,OAAiB;QAC5C,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACf,MAAM,IAAI,KAAK,CACb,qEAAqE,CACtE,CAAC;SACH;QAED,OAAO,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;IACvC,CAAC;IAED;;;;OAIG;IACU,iCAAK,GAAlB,UAAmB,OAElB;QAFkB,wBAAA,EAAA;YACjB,UAAU,EAAE,KAAK;SAClB;;;;;;wBACC,IAAI,IAAI,CAAC,OAAO,EAAE;4BAChB,sBAAM;yBACP;wBAED,IAAI,CAAC,OAAO,GAAG,IAAI,CAAA;6BACf,CAAA,IAAI,CAAC,KAAK,KAAK,IAAI,CAAA,EAAnB,wBAAmB;wBACrB,mDAAmD;wBAEnD,qBAAM,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,YAAY,CAAC,EAAA;;wBAF5D,mDAAmD;wBAEnD,SAA4D,CAAA;wBAC5D,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,CAAA;wBACtC,sBAAM;4BAGR,qBAAM,IAAI,CAAC,YAAY,EAAE,EAAA;;wBAAzB,SAAyB,CAAA;6BAErB,OAAO,CAAC,UAAU,EAAlB,wBAAkB;wBACpB,qBAAM,IAAI,CAAC,OAAO,CAAC;gCACjB,SAAS,EAAE,IAAI;6BAChB,CAAC;4BAEF,8DAA8D;0BAF5D;;wBAFF,SAEE,CAAA;wBAEF,8DAA8D;wBAC9D,sBAAM;;;wBAIN,qBAAM,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,EAAA;;wBAApC,SAAoC,CAAC;;;;;;;wBAMrC,qBAAM,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,EAAA;;wBAArB,SAAqB,CAAC;;;;;6BAKxB,qBAAM,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,YAAY,CAAC,EAAA;;wBAA5D,SAA4D,CAAA;wBAC5D,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,CAAA;;;;;KACvC;IAEa,wCAAY,GAA1B;;;;;;;wBACE,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;4BACf,sBAAM;yBACP;6BAGG,CAAA,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,WAAW,IAAI,QAAQ,IAAI,IAAI,CAAC,WAAW,IAAI,UAAU,CAAA,EAA5E,wBAA4E;wBACxE,aAAW,IAAI,CAAA;wBAEf,OAAO,GAAkB,IAAI,OAAO,CAAC,UAAC,OAAO;4BACjD,UAAQ,CAAC,KAAK,CAAC,EAAE,CAAC,QAAQ,EAAE;;oCAC1B,OAAO,EAAE,CAAA;;;iCACV,CAAC,CAAA;4BACF,UAAQ,CAAC,KAAK,CAAC,EAAE,CAAC,UAAU,EAAE;;oCAC5B,OAAO,EAAE,CAAA;;;iCACV,CAAC,CAAA;4BACF,UAAQ,CAAC,KAAK,CAAC,EAAE,CAAC,OAAO,EAAE;;oCACzB,uEAAuE;oCACvE,qDAAqD;oCACrD,OAAO,EAAE,CAAA;;;iCACV,CAAC,CAAA;wBACJ,CAAC,CAAC,CAAA;wBAEF,8GAA8G;wBAC9G,4BAA4B;wBAC5B,qBAAM,OAAO,EAAA;;wBAFb,8GAA8G;wBAC9G,4BAA4B;wBAC5B,SAAa,CAAA;;;oBAGf,0BAA0B;oBAC1B,qBAAM,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,EAAA;;wBADzB,0BAA0B;wBAC1B,SAAyB,CAAA;wBACzB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAA;wBACjB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAA;;;;wBAIL,qBAAM,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,EAAE,EAAE;gCACtE,IAAI,EAAE,KAAK;gCACX,KAAK,EAAE,KAAK;gCACZ,OAAO,EAAE,IAAI,EAAK,mBAAmB;6BACtC,CAAC;4BAEF,qCAAqC;0BAFnC;;wBAJI,MAAM,GAAG,SAIb;;;;wBAIF,sEAAsE;wBACtE,6CAA6C;wBAC7C,qBAAM,IAAI,CAAC,eAAe,EAAE;4BAE5B,YAAY;0BAFgB;;wBAF5B,sEAAsE;wBACtE,6CAA6C;wBAC7C,SAA4B,CAAA;;;;wBAIX,qBAAM,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,EAAE,EAAE;gCACtE,IAAI,EAAE,KAAK;gCACX,KAAK,EAAE,KAAK;gCACZ,OAAO,EAAE,IAAI,EAAK,mBAAmB;6BACtC,CAAC,EAAA;;wBAJI,MAAM,GAAG,SAIb;;;;wBAEF,OAAO,CAAC,GAAG,CAAC,KAAG,CAAC,CAAA;wBAChB,MAAM,IAAI,KAAK,CAAC,iEAA0D,IAAI,CAAC,YAAY,CAAE,CAAC,CAAA;;;;;;KAGnG;IAEY,mCAAO,GAApB,UAAqB,OAEpB;QAFoB,wBAAA,EAAA;YACnB,SAAS,EAAE,KAAK;SACjB;;;;;wBACC,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;4BACvC,MAAM,IAAI,KAAK,CAAC,qDAAqD,CAAC,CAAA;yBACvE;wBAED,qBAAM,IAAI,CAAC,YAAY,EAAE;4BAEzB,qCAAqC;0BAFZ;;wBAAzB,SAAyB,CAAA;wBAEzB,qCAAqC;wBACrC,qBAAM,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAA;;wBAD5B,qCAAqC;wBACrC,SAA4B,CAAA;;;;;KAC7B;IAEa,oCAAQ,GAAtB,UAAuB,OAEtB;QAFsB,wBAAA,EAAA;YACrB,SAAS,EAAE,KAAK;SACjB;;;;;;;wBAEG,uIAAuI;wBACvI,qBAAM,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,EAAA;;wBADtC,uIAAuI;wBACvI,SAAsC,CAAA;;;;;;;6BAMlC,CAAC,OAAO,CAAC,SAAS,EAAlB,wBAAkB;wBACpB,0CAA0C;wBAC1C,qBAAM,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,EAAA;;wBADnD,0CAA0C;wBAC1C,SAAmD,CAAA;;4BAGrD,qBAAM,IAAI,CAAC,KAAK,CAAC;4BACf,UAAU,EAAE,KAAK;yBAClB,CAAC,EAAA;;wBAFF,SAEE,CAAA;;;;wBAEF,OAAO,CAAC,GAAG,CAAC,KAAG,CAAC,CAAA;;;;;;KAGnB;IAEY,uCAAW,GAAxB,UACE,QAAuB,EACvB,SAAwB;QADxB,yBAAA,EAAA,aAAuB;QACvB,0BAAA,EAAA,cAAwB;;;;;4BAExB,qBAAM,IAAI,CAAC,IAAI,EAAE,EAAA;;wBAAjB,SAAiB,CAAC;wBAElB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;4BACjB,MAAM,IAAI,KAAK,CAAC,qDAAqD,CAAC,CAAA;yBACvE;wBAED,IAAI,CAAC,WAAY,CAAC,QAAQ,GAAG,QAAQ,CAAC;wBACtC,IAAI,CAAC,WAAY,CAAC,SAAS,GAAG,SAAS,CAAC;wBAElC,OAAO,GAAG;4BACd,WAAW,EAAE,IAAI,CAAC,WAAW;yBAC9B,CAAC;wBAEF,qBAAM,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,EAAE,OAAO,CAAC,EAAA;;wBAA5D,SAA4D,CAAC;6BAEzD,CAAA,IAAI,CAAC,MAAM,CAAC,YAAY,KAAK,KAAK,CAAA,EAAlC,wBAAkC;wBACpC,qBAAM,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,EAAA;;wBAA9C,SAA8C,CAAC;;;;;;KAElD;IAEY,iCAAK,GAAlB;;;;4BACE,qBAAM,IAAI,CAAC,IAAI,EAAE,EAAA;;wBAAjB,SAAiB,CAAC;wBAElB,sBAAO,IAAI,CAAC,QAAQ,EAAC;;;;KACtB;IAEY,8CAAkB,GAA/B;;;;4BACE,qBAAM,IAAI,CAAC,IAAI,EAAE,EAAA;;wBAAjB,SAAiB,CAAC;wBAClB,sBAAO,IAAI,CAAC,EAAE,EAAC;;;;KAChB;IAEY,6CAAiB,GAA9B;;;;4BACE,qBAAM,IAAI,CAAC,IAAI,EAAE,EAAA;;wBAAjB,SAAiB,CAAC;wBAClB,sBAAO,IAAI,CAAC,iBAAiB,EAAC;;;;KAC/B;IAEM,4CAAgB,GAAvB;QACE,OAAO,IAAI,CAAC,aAAc,CAAC;IAC7B,CAAC;IAEY,gCAAI,GAAjB;;;;;4BACE,qBAAM,IAAI,CAAC,IAAI,EAAE,EAAA;;wBAAjB,SAAiB,CAAC;wBAEZ,IAAI,GAAQ,EAAE,CAAC;wBACrB,IAAI,IAAI,CAAC,KAAK,EAAE;4BACd,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;4BACpC,IAAI,CAAC,IAAI,GAAG;gCACV,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK;gCAC7B,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ;6BACnC,CAAC;4BACF,IAAI,CAAC,IAAI,GAAG;gCACV,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK;gCAC7B,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ;6BACnC,CAAC;yBACH;wBAEK,IAAI,GAAG;4BACX,IAAI,EAAE,gBAAgB;4BACtB,OAAO,EAAE,WAAW;4BACpB,GAAG,EAAE,IAAI,CAAC,GAAG;4BACb,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE;4BAClC,WAAW,EAAE,IAAI,CAAC,WAAY;4BAC9B,cAAc,EAAE,IAAI,CAAC,cAAc;4BACnC,YAAY,EAAE,IAAI,CAAC,YAAY;4BAC/B,YAAY,EAAE,IAAI,CAAC,YAAY;4BAC/B,aAAa,EAAE,IAAI,CAAC,aAAc;4BAClC,IAAI,MAAA;yBACL,CAAC;wBAEF,sBAAO,IAAI,EAAC;;;;KACb;IAEY,yCAAa,GAA1B;;;;4BACE,qBAAM,IAAI,CAAC,IAAI,EAAE,EAAA;;wBAAjB,SAAiB,CAAC;wBAElB,sBAAO;gCACL,MAAM,EAAE,IAAI,CAAC,YAAY;gCACzB,MAAM,EAAE,IAAI,CAAC,YAAY;gCACzB,YAAY,EAAE,gBAAgB;gCAC9B,GAAG,EAAE,IAAI,CAAC,GAAG;gCACb,WAAW,EAAE,IAAI,CAAC,cAAc;gCAChC,WAAW,EAAE,IAAI,CAAC,WAAY;gCAC9B,aAAa,EAAE;oCACb,IAAI,EAAE,0BAA0B;oCAChC,GAAG,EAAE,IAAI,CAAC,QAAS;iCACpB;gCACD,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE;6BACnC,EAAC;;;;KACH;IACH,wBAAC;AAAD,CAAC,AAjcD,CAAgC,iBAAM,GAicrC;AAED,kBAAe,iBAAiB,CAAC"}